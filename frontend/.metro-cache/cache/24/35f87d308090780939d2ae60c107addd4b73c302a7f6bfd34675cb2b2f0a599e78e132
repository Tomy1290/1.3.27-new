{"dependencies":[{"name":"./utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":89},"end":{"line":3,"column":53,"index":142}}],"key":"fIqjJ6Rx8c7Khc/wm9kX7hQXC5I=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.rubberBandDecay = undefined;\n  var _utils = require(_dependencyMap[0]);\n  var DERIVATIVE_EPS = 0.1;\n  var _worklet_7927757150876_init_data = {\n    code: \"function rubberBandDecay_reactNativeReanimated_rubberBandDecayTs1(animation,now,config){const{SLOPE_FACTOR,DERIVATIVE_EPS,VELOCITY_EPS}=this.__closure;const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const clampIndex=Math.abs(current-config.clamp[0])<Math.abs(current-config.clamp[1])?0:1;let derivative=0;if(current<config.clamp[0]||current>config.clamp[1]){derivative=current-config.clamp[clampIndex];}const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR)-derivative*config.rubberBandFactor;if(Math.abs(derivative)>DERIVATIVE_EPS){animation.springActive=true;}else if(animation.springActive){animation.current=config.clamp[clampIndex];return true;}else if(Math.abs(v)<VELOCITY_EPS){return true;}animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;return false;}\"\n  };\n  var rubberBandDecay = exports.rubberBandDecay = function () {\n    var rubberBandDecay = function (animation, now, config) {\n      var lastTimestamp = animation.lastTimestamp,\n        startTimestamp = animation.startTimestamp,\n        current = animation.current,\n        velocity = animation.velocity;\n      var deltaTime = Math.min(now - lastTimestamp, 64);\n      var clampIndex = Math.abs(current - config.clamp[0]) < Math.abs(current - config.clamp[1]) ? 0 : 1;\n      var derivative = 0;\n      if (current < config.clamp[0] || current > config.clamp[1]) {\n        derivative = current - config.clamp[clampIndex];\n      }\n      var v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * _utils.SLOPE_FACTOR) - derivative * config.rubberBandFactor;\n      if (Math.abs(derivative) > DERIVATIVE_EPS) {\n        animation.springActive = true;\n      } else if (animation.springActive) {\n        animation.current = config.clamp[clampIndex];\n        return true;\n      } else if (Math.abs(v) < _utils.VELOCITY_EPS) {\n        return true;\n      }\n      animation.current = current + v * config.velocityFactor * deltaTime / 1000;\n      animation.velocity = v;\n      animation.lastTimestamp = now;\n      return false;\n    };\n    rubberBandDecay.__closure = {\n      SLOPE_FACTOR: _utils.SLOPE_FACTOR,\n      DERIVATIVE_EPS,\n      VELOCITY_EPS: _utils.VELOCITY_EPS\n    };\n    rubberBandDecay.__workletHash = 7927757150876;\n    rubberBandDecay.__initData = _worklet_7927757150876_init_data;\n    return rubberBandDecay;\n  }();\n});","lineCount":48,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"rubberBandDecay"],[7,25,1,13],[7,28,1,13,"undefined"],[7,37,1,13],[8,2,3,0],[8,6,3,0,"_utils"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,5,0],[9,6,5,6,"DERIVATIVE_EPS"],[9,20,5,20],[9,23,5,23],[9,26,5,26],[10,2,5,27],[10,6,5,27,"_worklet_7927757150876_init_data"],[10,38,5,27],[11,4,5,27,"code"],[11,8,5,27],[12,2,5,27],[13,2,5,27],[13,6,5,27,"rubberBandDecay"],[13,21,5,27],[13,24,5,27,"exports"],[13,31,5,27],[13,32,5,27,"rubberBandDecay"],[13,47,5,27],[13,50,7,7],[14,4,7,7],[14,8,7,7,"rubberBandDecay"],[14,23,7,7],[14,35,7,7,"rubberBandDecay"],[14,36,8,2,"animation"],[14,45,8,32],[14,47,9,2,"now"],[14,50,9,13],[14,52,10,2,"config"],[14,58,10,31],[14,60,11,11],[15,6,13,2],[15,10,13,10,"lastTimestamp"],[15,23,13,23],[15,26,13,63,"animation"],[15,35,13,72],[15,36,13,10,"lastTimestamp"],[15,49,13,23],[16,8,13,25,"startTimestamp"],[16,22,13,39],[16,25,13,63,"animation"],[16,34,13,72],[16,35,13,25,"startTimestamp"],[16,49,13,39],[17,8,13,41,"current"],[17,15,13,48],[17,18,13,63,"animation"],[17,27,13,72],[17,28,13,41,"current"],[17,35,13,48],[18,8,13,50,"velocity"],[18,16,13,58],[18,19,13,63,"animation"],[18,28,13,72],[18,29,13,50,"velocity"],[18,37,13,58],[19,6,15,2],[19,10,15,8,"deltaTime"],[19,19,15,17],[19,22,15,20,"Math"],[19,26,15,24],[19,27,15,25,"min"],[19,30,15,28],[19,31,15,29,"now"],[19,34,15,32],[19,37,15,35,"lastTimestamp"],[19,50,15,48],[19,52,15,50],[19,54,15,52],[19,55,15,53],[20,6,16,2],[20,10,16,8,"clampIndex"],[20,20,16,18],[20,23,17,4,"Math"],[20,27,17,8],[20,28,17,9,"abs"],[20,31,17,12],[20,32,17,13,"current"],[20,39,17,20],[20,42,17,23,"config"],[20,48,17,29],[20,49,17,30,"clamp"],[20,54,17,35],[20,55,17,36],[20,56,17,37],[20,57,17,38],[20,58,17,39],[20,61,17,42,"Math"],[20,65,17,46],[20,66,17,47,"abs"],[20,69,17,50],[20,70,17,51,"current"],[20,77,17,58],[20,80,17,61,"config"],[20,86,17,67],[20,87,17,68,"clamp"],[20,92,17,73],[20,93,17,74],[20,94,17,75],[20,95,17,76],[20,96,17,77],[20,99,18,8],[20,100,18,9],[20,103,19,8],[20,104,19,9],[21,6,21,2],[21,10,21,6,"derivative"],[21,20,21,16],[21,23,21,19],[21,24,21,20],[22,6,22,2],[22,10,22,6,"current"],[22,17,22,13],[22,20,22,16,"config"],[22,26,22,22],[22,27,22,23,"clamp"],[22,32,22,28],[22,33,22,29],[22,34,22,30],[22,35,22,31],[22,39,22,35,"current"],[22,46,22,42],[22,49,22,45,"config"],[22,55,22,51],[22,56,22,52,"clamp"],[22,61,22,57],[22,62,22,58],[22,63,22,59],[22,64,22,60],[22,66,22,62],[23,8,23,4,"derivative"],[23,18,23,14],[23,21,23,17,"current"],[23,28,23,24],[23,31,23,27,"config"],[23,37,23,33],[23,38,23,34,"clamp"],[23,43,23,39],[23,44,23,40,"clampIndex"],[23,54,23,50],[23,55,23,51],[24,6,24,2],[25,6,26,2],[25,10,26,8,"v"],[25,11,26,9],[25,14,27,4,"velocity"],[25,22,27,12],[25,25,28,6,"Math"],[25,29,28,10],[25,30,28,11,"exp"],[25,33,28,14],[25,34,29,8],[25,36,29,10],[25,37,29,11],[25,40,29,14,"config"],[25,46,29,20],[25,47,29,21,"deceleration"],[25,59,29,33],[25,60,29,34],[25,64,29,38,"now"],[25,67,29,41],[25,70,29,44,"startTimestamp"],[25,84,29,58],[25,85,29,59],[25,88,29,62,"SLOPE_FACTOR"],[25,107,30,6],[25,108,30,7],[25,111,31,4,"derivative"],[25,121,31,14],[25,124,31,17,"config"],[25,130,31,23],[25,131,31,24,"rubberBandFactor"],[25,147,31,40],[26,6,33,2],[26,10,33,6,"Math"],[26,14,33,10],[26,15,33,11,"abs"],[26,18,33,14],[26,19,33,15,"derivative"],[26,29,33,25],[26,30,33,26],[26,33,33,29,"DERIVATIVE_EPS"],[26,47,33,43],[26,49,33,45],[27,8,34,4,"animation"],[27,17,34,13],[27,18,34,14,"springActive"],[27,30,34,26],[27,33,34,29],[27,37,34,33],[28,6,35,2],[28,7,35,3],[28,13,35,9],[28,17,35,13,"animation"],[28,26,35,22],[28,27,35,23,"springActive"],[28,39,35,35],[28,41,35,37],[29,8,36,4,"animation"],[29,17,36,13],[29,18,36,14,"current"],[29,25,36,21],[29,28,36,24,"config"],[29,34,36,30],[29,35,36,31,"clamp"],[29,40,36,36],[29,41,36,37,"clampIndex"],[29,51,36,47],[29,52,36,48],[30,8,37,4],[30,15,37,11],[30,19,37,15],[31,6,38,2],[31,7,38,3],[31,13,38,9],[31,17,38,13,"Math"],[31,21,38,17],[31,22,38,18,"abs"],[31,25,38,21],[31,26,38,22,"v"],[31,27,38,23],[31,28,38,24],[31,31,38,27,"VELOCITY_EPS"],[31,50,38,39],[31,52,38,41],[32,8,39,4],[32,15,39,11],[32,19,39,15],[33,6,40,2],[34,6,42,2,"animation"],[34,15,42,11],[34,16,42,12,"current"],[34,23,42,19],[34,26,42,22,"current"],[34,33,42,29],[34,36,42,33,"v"],[34,37,42,34],[34,40,42,37,"config"],[34,46,42,43],[34,47,42,44,"velocityFactor"],[34,61,42,58],[34,64,42,61,"deltaTime"],[34,73,42,70],[34,76,42,74],[34,80,42,78],[35,6,43,2,"animation"],[35,15,43,11],[35,16,43,12,"velocity"],[35,24,43,20],[35,27,43,23,"v"],[35,28,43,24],[36,6,44,2,"animation"],[36,15,44,11],[36,16,44,12,"lastTimestamp"],[36,29,44,25],[36,32,44,28,"now"],[36,35,44,31],[37,6,45,2],[37,13,45,9],[37,18,45,14],[38,4,46,0],[38,5,46,1],[39,4,46,1,"rubberBandDecay"],[39,19,46,1],[39,20,46,1,"__closure"],[39,29,46,1],[40,6,46,1,"SLOPE_FACTOR"],[40,18,46,1],[40,20,29,62,"SLOPE_FACTOR"],[40,39,29,74],[41,6,29,74,"DERIVATIVE_EPS"],[41,20,29,74],[42,6,29,74,"VELOCITY_EPS"],[42,18,29,74],[42,20,38,27,"VELOCITY_EPS"],[43,4,38,39],[44,4,38,39,"rubberBandDecay"],[44,19,38,39],[44,20,38,39,"__workletHash"],[44,33,38,39],[45,4,38,39,"rubberBandDecay"],[45,19,38,39],[45,20,38,39,"__initData"],[45,30,38,39],[45,33,38,39,"_worklet_7927757150876_init_data"],[45,65,38,39],[46,4,38,39],[46,11,38,39,"rubberBandDecay"],[46,26,38,39],[47,2,38,39],[47,3,7,7],[48,0,7,7],[48,3]],"functionMap":{"names":["<global>","rubberBandDecay"],"mappings":"AAA;OCM;CDuC"}},"type":"js/module"}]}