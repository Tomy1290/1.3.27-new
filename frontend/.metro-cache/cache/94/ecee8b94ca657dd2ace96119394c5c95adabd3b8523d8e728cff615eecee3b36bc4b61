{"dependencies":[{"name":"../achievements","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"F/2PeJFwmJPynDWWzBGrLc8GRK8=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CHAIN_DEFS = void 0;\n  exports.computeChains = computeChains;\n  var _achievements = require(_dependencyMap[0], \"../achievements\");\n  const CHAIN_DEFS = exports.CHAIN_DEFS = [{\n    id: 'perfect',\n    title: l => l === 'de' ? 'Perfekte Tage' : 'Perfect days',\n    steps: ['perfekte_woche_7', 'perfekter_monat_30', 'diamant_status_100', 'zen_meister_365']\n  }, {\n    id: 'pills',\n    title: l => l === 'de' ? 'Pillen‑Meister' : 'Pill mastery',\n    steps: ['pillen_profi_7', 'pillen_legende_100', 'jahres_champion_365']\n  }, {\n    id: 'weight_loss',\n    title: l => l === 'de' ? 'Gewichtsziele' : 'Weight goals',\n    steps: ['erste_erfolge_2kg', 'grosser_erfolg_5kg', 'transformation_10kg', 'mega_transformation_20kg']\n  }, {\n    id: 'usage',\n    title: l => l === 'de' ? 'Dranbleiben' : 'Consistency',\n    steps: ['first_steps_7', 'bestaendigkeits_koenig_200']\n  }, {\n    id: 'water',\n    title: l => l === 'de' ? 'Wasser' : 'Water',\n    steps: ['wasserdrache_5']\n  }, {\n    id: 'coffee',\n    title: l => l === 'de' ? 'Kaffee-Kontrolle' : 'Coffee control',\n    steps: ['kaffee_kontrolle_7']\n  }, {\n    id: 'ginger',\n    title: l => l === 'de' ? 'Ingwer-Knoblauch-Tee' : 'Ginger-garlic tea',\n    steps: ['tee_liebhaber_20']\n  }, {\n    id: 'early',\n    title: l => l === 'de' ? 'Frühaufsteher' : 'Early bird',\n    steps: ['fruehaufsteher_30']\n  }, {\n    id: 'night',\n    title: l => l === 'de' ? 'Nachteule' : 'Night owl',\n    steps: ['nachteule_50']\n  }];\n  function computeChains(state) {\n    const ach = (0, _achievements.computeAchievements)(state);\n    const list = ach.list;\n    const l = state.language;\n    const byId = new Map(list.map(a => [a.id, a]));\n    const res = [];\n    for (const def of CHAIN_DEFS) {\n      let completed = 0;\n      let nextIndex = null;\n      let nextPercent = 0;\n      let nextId;\n      let nextTitle;\n      for (let i = 0; i < def.steps.length; i++) {\n        const id = def.steps[i];\n        const a = byId.get(id);\n        if (!a) continue;\n        if (a.completed) completed = i + 1;else if (nextIndex === null) {\n          nextIndex = i;\n          nextPercent = a.percent;\n          nextId = a.id;\n          nextTitle = a.title;\n        }\n      }\n      if (nextIndex === null && completed < def.steps.length) {\n        nextIndex = completed;\n      }\n      res.push({\n        id: def.id,\n        title: def.title(l),\n        total: def.steps.length,\n        completed,\n        nextIndex,\n        nextPercent,\n        nextId,\n        nextTitle\n      });\n    }\n    return res;\n  }\n});","lineCount":84,"map":[[7,2,1,0],[7,6,1,0,"_achievements"],[7,19,1,0],[7,22,1,0,"require"],[7,29,1,0],[7,30,1,0,"_dependencyMap"],[7,44,1,0],[8,2,6,7],[8,8,6,13,"CHAIN_DEFS"],[8,18,6,35],[8,21,6,35,"exports"],[8,28,6,35],[8,29,6,35,"CHAIN_DEFS"],[8,39,6,35],[8,42,6,38],[8,43,7,2],[9,4,7,4,"id"],[9,6,7,6],[9,8,7,8],[9,17,7,17],[10,4,7,19,"title"],[10,9,7,24],[10,11,7,27,"l"],[10,12,7,28],[10,16,7,32,"l"],[10,17,7,33],[10,22,7,36],[10,26,7,40],[10,29,7,42],[10,44,7,57],[10,47,7,60],[10,61,7,74],[11,4,7,76,"steps"],[11,9,7,81],[11,11,7,83],[11,12,7,84],[11,30,7,102],[11,32,7,103],[11,52,7,123],[11,54,7,124],[11,74,7,144],[11,76,7,145],[11,93,7,162],[12,2,7,164],[12,3,7,165],[12,5,8,2],[13,4,8,4,"id"],[13,6,8,6],[13,8,8,8],[13,15,8,15],[14,4,8,17,"title"],[14,9,8,22],[14,11,8,25,"l"],[14,12,8,26],[14,16,8,30,"l"],[14,17,8,31],[14,22,8,34],[14,26,8,38],[14,29,8,40],[14,45,8,56],[14,48,8,59],[14,62,8,73],[15,4,8,75,"steps"],[15,9,8,80],[15,11,8,82],[15,12,8,83],[15,28,8,99],[15,30,8,100],[15,50,8,120],[15,52,8,121],[15,73,8,142],[16,2,8,144],[16,3,8,145],[16,5,9,2],[17,4,9,4,"id"],[17,6,9,6],[17,8,9,8],[17,21,9,21],[18,4,9,23,"title"],[18,9,9,28],[18,11,9,31,"l"],[18,12,9,32],[18,16,9,36,"l"],[18,17,9,37],[18,22,9,40],[18,26,9,44],[18,29,9,46],[18,44,9,61],[18,47,9,64],[18,61,9,78],[19,4,9,80,"steps"],[19,9,9,85],[19,11,9,87],[19,12,9,88],[19,31,9,107],[19,33,9,108],[19,53,9,128],[19,55,9,129],[19,76,9,150],[19,78,9,151],[19,104,9,177],[20,2,9,179],[20,3,9,180],[20,5,10,2],[21,4,10,4,"id"],[21,6,10,6],[21,8,10,8],[21,15,10,15],[22,4,10,17,"title"],[22,9,10,22],[22,11,10,25,"l"],[22,12,10,26],[22,16,10,30,"l"],[22,17,10,31],[22,22,10,34],[22,26,10,38],[22,29,10,40],[22,42,10,53],[22,45,10,56],[22,58,10,69],[23,4,10,71,"steps"],[23,9,10,76],[23,11,10,78],[23,12,10,79],[23,27,10,94],[23,29,10,95],[23,57,10,123],[24,2,10,125],[24,3,10,126],[24,5,11,2],[25,4,11,4,"id"],[25,6,11,6],[25,8,11,8],[25,15,11,15],[26,4,11,17,"title"],[26,9,11,22],[26,11,11,25,"l"],[26,12,11,26],[26,16,11,30,"l"],[26,17,11,31],[26,22,11,34],[26,26,11,38],[26,29,11,40],[26,37,11,48],[26,40,11,51],[26,47,11,58],[27,4,11,60,"steps"],[27,9,11,65],[27,11,11,67],[27,12,11,68],[27,28,11,84],[28,2,11,86],[28,3,11,87],[28,5,12,2],[29,4,12,4,"id"],[29,6,12,6],[29,8,12,8],[29,16,12,16],[30,4,12,18,"title"],[30,9,12,23],[30,11,12,26,"l"],[30,12,12,27],[30,16,12,31,"l"],[30,17,12,32],[30,22,12,35],[30,26,12,39],[30,29,12,41],[30,47,12,59],[30,50,12,62],[30,66,12,78],[31,4,12,80,"steps"],[31,9,12,85],[31,11,12,87],[31,12,12,88],[31,32,12,108],[32,2,12,110],[32,3,12,111],[32,5,13,2],[33,4,13,4,"id"],[33,6,13,6],[33,8,13,8],[33,16,13,16],[34,4,13,18,"title"],[34,9,13,23],[34,11,13,26,"l"],[34,12,13,27],[34,16,13,31,"l"],[34,17,13,32],[34,22,13,35],[34,26,13,39],[34,29,13,41],[34,51,13,63],[34,54,13,66],[34,73,13,85],[35,4,13,87,"steps"],[35,9,13,92],[35,11,13,94],[35,12,13,95],[35,30,13,113],[36,2,13,115],[36,3,13,116],[36,5,14,2],[37,4,14,4,"id"],[37,6,14,6],[37,8,14,8],[37,15,14,15],[38,4,14,17,"title"],[38,9,14,22],[38,11,14,25,"l"],[38,12,14,26],[38,16,14,30,"l"],[38,17,14,31],[38,22,14,34],[38,26,14,38],[38,29,14,40],[38,44,14,55],[38,47,14,58],[38,59,14,70],[39,4,14,72,"steps"],[39,9,14,77],[39,11,14,79],[39,12,14,80],[39,31,14,99],[40,2,14,101],[40,3,14,102],[40,5,15,2],[41,4,15,4,"id"],[41,6,15,6],[41,8,15,8],[41,15,15,15],[42,4,15,17,"title"],[42,9,15,22],[42,11,15,25,"l"],[42,12,15,26],[42,16,15,30,"l"],[42,17,15,31],[42,22,15,34],[42,26,15,38],[42,29,15,40],[42,40,15,51],[42,43,15,54],[42,54,15,65],[43,4,15,67,"steps"],[43,9,15,72],[43,11,15,74],[43,12,15,75],[43,26,15,89],[44,2,15,91],[44,3,15,92],[44,4,16,1],[45,2,20,7],[45,11,20,16,"computeChains"],[45,24,20,29,"computeChains"],[45,25,20,30,"state"],[45,30,20,139],[45,32,20,156],[46,4,21,2],[46,10,21,8,"ach"],[46,13,21,11],[46,16,21,14],[46,20,21,14,"computeAchievements"],[46,53,21,33],[46,55,21,34,"state"],[46,60,21,39],[46,61,21,40],[47,4,22,2],[47,10,22,8,"list"],[47,14,22,12],[47,17,22,15,"ach"],[47,20,22,18],[47,21,22,19,"list"],[47,25,22,23],[48,4,23,2],[48,10,23,8,"l"],[48,11,23,9],[48,14,23,12,"state"],[48,19,23,17],[48,20,23,18,"language"],[48,28,23,26],[49,4,24,2],[49,10,24,8,"byId"],[49,14,24,12],[49,17,24,15],[49,21,24,19,"Map"],[49,24,24,22],[49,25,24,23,"list"],[49,29,24,27],[49,30,24,28,"map"],[49,33,24,31],[49,34,24,32,"a"],[49,35,24,33],[49,39,24,37],[49,40,24,38,"a"],[49,41,24,39],[49,42,24,40,"id"],[49,44,24,42],[49,46,24,44,"a"],[49,47,24,45],[49,48,24,55],[49,49,24,56],[49,50,24,57],[50,4,25,2],[50,10,25,8,"res"],[50,13,25,26],[50,16,25,29],[50,18,25,31],[51,4,26,2],[51,9,26,7],[51,15,26,13,"def"],[51,18,26,16],[51,22,26,20,"CHAIN_DEFS"],[51,32,26,30],[51,34,26,32],[52,6,27,4],[52,10,27,8,"completed"],[52,19,27,17],[52,22,27,20],[52,23,27,21],[53,6,27,23],[53,10,27,27,"nextIndex"],[53,19,27,51],[53,22,27,54],[53,26,27,58],[54,6,27,60],[54,10,27,64,"nextPercent"],[54,21,27,75],[54,24,27,78],[54,25,27,79],[55,6,27,81],[55,10,27,85,"nextId"],[55,16,27,111],[56,6,27,113],[56,10,27,117,"nextTitle"],[56,19,27,146],[57,6,28,4],[57,11,28,9],[57,15,28,13,"i"],[57,16,28,14],[57,19,28,15],[57,20,28,16],[57,22,28,18,"i"],[57,23,28,19],[57,26,28,20,"def"],[57,29,28,23],[57,30,28,24,"steps"],[57,35,28,29],[57,36,28,30,"length"],[57,42,28,36],[57,44,28,38,"i"],[57,45,28,39],[57,47,28,41],[57,49,28,43],[58,8,29,6],[58,14,29,12,"id"],[58,16,29,14],[58,19,29,17,"def"],[58,22,29,20],[58,23,29,21,"steps"],[58,28,29,26],[58,29,29,27,"i"],[58,30,29,28],[58,31,29,29],[59,8,30,6],[59,14,30,12,"a"],[59,15,30,13],[59,18,30,16,"byId"],[59,22,30,20],[59,23,30,21,"get"],[59,26,30,24],[59,27,30,25,"id"],[59,29,30,27],[59,30,30,28],[60,8,31,6],[60,12,31,10],[60,13,31,11,"a"],[60,14,31,12],[60,16,31,14],[61,8,32,6],[61,12,32,10,"a"],[61,13,32,11],[61,14,32,12,"completed"],[61,23,32,21],[61,25,32,23,"completed"],[61,34,32,32],[61,37,32,35,"i"],[61,38,32,36],[61,41,32,37],[61,42,32,38],[61,43,32,39],[61,48,32,45],[61,52,32,49,"nextIndex"],[61,61,32,58],[61,66,32,63],[61,70,32,67],[61,72,32,69],[62,10,32,71,"nextIndex"],[62,19,32,80],[62,22,32,83,"i"],[62,23,32,84],[63,10,32,86,"nextPercent"],[63,21,32,97],[63,24,32,100,"a"],[63,25,32,101],[63,26,32,102,"percent"],[63,33,32,109],[64,10,32,111,"nextId"],[64,16,32,117],[64,19,32,120,"a"],[64,20,32,121],[64,21,32,122,"id"],[64,23,32,124],[65,10,32,126,"nextTitle"],[65,19,32,135],[65,22,32,138,"a"],[65,23,32,139],[65,24,32,140,"title"],[65,29,32,145],[66,8,32,147],[67,6,33,4],[68,6,34,4],[68,10,34,8,"nextIndex"],[68,19,34,17],[68,24,34,22],[68,28,34,26],[68,32,34,30,"completed"],[68,41,34,39],[68,44,34,42,"def"],[68,47,34,45],[68,48,34,46,"steps"],[68,53,34,51],[68,54,34,52,"length"],[68,60,34,58],[68,62,34,60],[69,8,34,62,"nextIndex"],[69,17,34,71],[69,20,34,74,"completed"],[69,29,34,83],[70,6,34,85],[71,6,35,4,"res"],[71,9,35,7],[71,10,35,8,"push"],[71,14,35,12],[71,15,35,13],[72,8,35,15,"id"],[72,10,35,17],[72,12,35,19,"def"],[72,15,35,22],[72,16,35,23,"id"],[72,18,35,25],[73,8,35,27,"title"],[73,13,35,32],[73,15,35,34,"def"],[73,18,35,37],[73,19,35,38,"title"],[73,24,35,43],[73,25,35,44,"l"],[73,26,35,45],[73,27,35,46],[74,8,35,48,"total"],[74,13,35,53],[74,15,35,55,"def"],[74,18,35,58],[74,19,35,59,"steps"],[74,24,35,64],[74,25,35,65,"length"],[74,31,35,71],[75,8,35,73,"completed"],[75,17,35,82],[76,8,35,84,"nextIndex"],[76,17,35,93],[77,8,35,95,"nextPercent"],[77,19,35,106],[78,8,35,108,"nextId"],[78,14,35,114],[79,8,35,116,"nextTitle"],[80,6,35,126],[80,7,35,127],[80,8,35,128],[81,4,36,2],[82,4,37,2],[82,11,37,9,"res"],[82,14,37,12],[83,2,38,0],[84,0,38,1],[84,3]],"functionMap":{"names":["<global>","title","computeChains","list.map$argument_0"],"mappings":"AAA;0BCM,gDD;wBCC,iDD;8BCC,gDD;wBCC,6CD;wBCC,kCD;yBCC,qDD;yBCC,4DD;wBCC,8CD;wBCC,yCD;OEK;gCCI,uBD"}},"type":"js/module"}]}