{"dependencies":[{"name":"./insights","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":42,"index":88}}],"key":"P6uIAxQHQXCS4g7ehSe9xMlMTt0=","exportNames":["*"]}},{"name":"./recipes","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":89},"end":{"line":3,"column":64,"index":153}}],"key":"I5cKaD6LVjNhlbbw0xGWaIunDVI=","exportNames":["*"]}},{"name":"./knowledge","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":154},"end":{"line":4,"column":46,"index":200}}],"key":"ZOIpspQBkIt1Pi2RzskUgy0skoY=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.localGreeting = localGreeting;\n  exports.localReply = localReply;\n  var _insights = require(_dependencyMap[0], \"./insights\");\n  var _recipes = require(_dependencyMap[1], \"./recipes\");\n  var _knowledge = require(_dependencyMap[2], \"./knowledge\");\n  function t(lang, de, en, pl) {\n    return lang === 'en' ? en : lang === 'pl' ? pl || en : de;\n  }\n  async function localGreeting(state) {\n    const lang = state.language;\n    const tips = (0, _insights.computeAIPro)({\n      days: state.days,\n      language: state.language,\n      aiFeedback: state.aiFeedback,\n      aiInsightsEnabled: state.aiInsightsEnabled,\n      cycleLogs: state.cycleLogs\n    });\n    const tip = tips[0]?.text || t(lang, 'Trink heute morgens ein Glas Wasser mehr.', 'Add one extra glass of water in the morning.', 'Dodaj rano jednƒÖ szklankƒô wody.');\n    const picks = (0, _recipes.pickDailySuggestions)(lang).slice(0, 2);\n    const rec = picks.map(p => `‚Ä¢ ${p.title[lang]} (${p.durationMin} Min)`).join('\\n');\n    const txt = t(lang, `Tipp: ${tip}\\nHinweis: Schau dir diese Rezepte an:\\n${rec}`, `Tip: ${tip}\\nNote: Check these recipes:\\n${rec}`, `Wskaz√≥wka: ${tip}\\nUwaga: Sprawd≈∫ te przepisy:\\n${rec}`);\n    return txt;\n  }\n  async function localReply(state, userText) {\n    const lang = state.language;\n    const q = userText.toLowerCase();\n\n    // knowledge first (cycle & weight)\n    const know = (0, _knowledge.answerKnowledge)(state, userText);\n    if (know) return know;\n\n    // recipes intent\n    if (/(rezept|recipe|przepis|kochen|cook)/.test(q)) {\n      const results = (0, _recipes.searchRecipes)({\n        lang,\n        keywords: userText,\n        limit: 5\n      });\n      if (results.length === 0) {\n        const picks = (0, _recipes.pickDailySuggestions)(lang).slice(0, 3);\n        const list = picks.map(p => `‚Ä¢ ${p.title[lang]} ‚Äì ${p.desc[lang]}`).join('\\n');\n        return t(lang, `Keine passenden Rezepte gefunden. Vorschl√§ge:\\n${list}\\n\\nüí° Tipp: Nutze den \"Rezepte filtern\" Button f√ºr eine detaillierte Suche!`, `No matching recipes. Suggestions:\\n${list}\\n\\nüí° Tip: Use the \"Filter recipes\" button for detailed search!`, `Brak pasujƒÖcych przepis√≥w. Propozycje:\\n${list}\\n\\nüí° Wskaz√≥wka: U≈ºyj przycisku \"Filtruj przepisy\" dla szczeg√≥≈Çowego wyszukiwania!`);\n      }\n      const list = results.map(r => `‚Ä¢ ${r.title[lang]} ‚Äì ${r.desc[lang]}`).join('\\n');\n      return t(lang, `Hier sind Rezepte f√ºr dich:\\n${list}\\n\\nüí° Tipp: Nutze den \"Rezepte filtern\" Button unten f√ºr mehr Details und Filter-Optionen!`, `Here are recipes for you:\\n${list}\\n\\nüí° Tip: Use the \"Filter recipes\" button below for more details and filter options!`, `Oto przepisy dla ciebie:\\n${list}\\n\\nüí° Wskaz√≥wka: U≈ºyj przycisku \"Filtruj przepisy\" poni≈ºej, aby uzyskaƒá wiƒôcej szczeg√≥≈Ç√≥w i opcji filtrowania!`);\n    }\n\n    // analysis/tips intent\n    if (/(analyse|analysis|analiza|trink|wasser|water|kaffee|coffee|pille|pills|sport)/.test(q)) {\n      const tips = (0, _insights.computeAIPro)({\n        days: state.days,\n        language: state.language,\n        aiFeedback: state.aiFeedback,\n        aiInsightsEnabled: state.aiInsightsEnabled,\n        cycleLogs: state.cycleLogs\n      });\n      const top = tips.slice(0, 3).map(x => `‚Ä¢ ${x.text}`).join('\\n');\n      if (top) return t(lang, `Kurze Analyse & Tipps:\\n${top}`, `Quick analysis & tips:\\n${top}`, `Kr√≥tka analiza i wskaz√≥wki:\\n${top}`);\n    }\n\n    // smalltalk default\n    const fallback = t(lang, 'Erz√§hl mir, wie es dir heute geht ‚Äì oder frag nach Rezepten (z. B. ‚Äûitalienisches Abendessen, low carb‚Äù). Ich habe extra Wissen zu Zyklus & Gewicht.', 'Tell me how you feel today ‚Äì or ask for recipes (e.g., ‚ÄúItalian dinner, low carb‚Äù). I have extra knowledge for cycle & weight.', 'Powiedz, jak siƒô dzi≈õ czujesz ‚Äì albo popro≈õ o przepisy (np. ‚Äûw≈Çoska kolacja, low carb‚Äù). Mam dodatkowƒÖ wiedzƒô o cyklu i wadze.');\n    return fallback;\n  }\n});","lineCount":69,"map":[[7,2,2,0],[7,6,2,0,"_insights"],[7,15,2,0],[7,18,2,0,"require"],[7,25,2,0],[7,26,2,0,"_dependencyMap"],[7,40,2,0],[8,2,3,0],[8,6,3,0,"_recipes"],[8,14,3,0],[8,17,3,0,"require"],[8,24,3,0],[8,25,3,0,"_dependencyMap"],[8,39,3,0],[9,2,4,0],[9,6,4,0,"_knowledge"],[9,16,4,0],[9,19,4,0,"require"],[9,26,4,0],[9,27,4,0,"_dependencyMap"],[9,41,4,0],[10,2,6,0],[10,11,6,9,"t"],[10,12,6,10,"t"],[10,13,6,11,"lang"],[10,17,6,31],[10,19,6,33,"de"],[10,21,6,43],[10,23,6,45,"en"],[10,25,6,55],[10,27,6,57,"pl"],[10,29,6,68],[10,31,6,70],[11,4,6,72],[11,11,6,79,"lang"],[11,15,6,83],[11,20,6,86],[11,24,6,90],[11,27,6,91,"en"],[11,29,6,93],[11,32,6,95,"lang"],[11,36,6,99],[11,41,6,102],[11,45,6,106],[11,48,6,108,"pl"],[11,50,6,110],[11,54,6,112,"en"],[11,56,6,114],[11,59,6,116,"de"],[11,61,6,119],[12,2,6,121],[13,2,8,7],[13,17,8,22,"localGreeting"],[13,30,8,35,"localGreeting"],[13,31,8,36,"state"],[13,36,8,51],[13,38,8,53],[14,4,9,2],[14,10,9,8,"lang"],[14,14,9,12],[14,17,9,15,"state"],[14,22,9,20],[14,23,9,21,"language"],[14,31,9,47],[15,4,10,2],[15,10,10,8,"tips"],[15,14,10,12],[15,17,10,15],[15,21,10,15,"computeAIPro"],[15,43,10,27],[15,45,10,28],[16,6,10,30,"days"],[16,10,10,34],[16,12,10,36,"state"],[16,17,10,41],[16,18,10,42,"days"],[16,22,10,46],[17,6,10,48,"language"],[17,14,10,56],[17,16,10,58,"state"],[17,21,10,63],[17,22,10,64,"language"],[17,30,10,72],[18,6,10,74,"aiFeedback"],[18,16,10,84],[18,18,10,86,"state"],[18,23,10,91],[18,24,10,92,"aiFeedback"],[18,34,10,102],[19,6,10,104,"aiInsightsEnabled"],[19,23,10,121],[19,25,10,123,"state"],[19,30,10,128],[19,31,10,129,"aiInsightsEnabled"],[19,48,10,146],[20,6,10,148,"cycleLogs"],[20,15,10,157],[20,17,10,159,"state"],[20,22,10,164],[20,23,10,165,"cycleLogs"],[21,4,10,175],[21,5,10,176],[21,6,10,177],[22,4,11,2],[22,10,11,8,"tip"],[22,13,11,11],[22,16,11,14,"tips"],[22,20,11,18],[22,21,11,19],[22,22,11,20],[22,23,11,21],[22,25,11,23,"text"],[22,29,11,27],[22,33,11,31,"t"],[22,34,11,32],[22,35,11,33,"lang"],[22,39,11,37],[22,41,11,38],[22,84,11,81],[22,86,11,82],[22,132,11,128],[22,134,11,129],[22,167,11,162],[22,168,11,163],[23,4,12,2],[23,10,12,8,"picks"],[23,15,12,13],[23,18,12,16],[23,22,12,16,"pickDailySuggestions"],[23,51,12,36],[23,53,12,37,"lang"],[23,57,12,41],[23,58,12,42],[23,59,12,43,"slice"],[23,64,12,48],[23,65,12,49],[23,66,12,50],[23,68,12,51],[23,69,12,52],[23,70,12,53],[24,4,13,2],[24,10,13,8,"rec"],[24,13,13,11],[24,16,13,14,"picks"],[24,21,13,19],[24,22,13,20,"map"],[24,25,13,23],[24,26,13,24,"p"],[24,27,13,25],[24,31,13,29],[24,36,13,34,"p"],[24,37,13,35],[24,38,13,36,"title"],[24,43,13,41],[24,44,13,42,"lang"],[24,48,13,46],[24,49,13,47],[24,54,13,52,"p"],[24,55,13,53],[24,56,13,54,"durationMin"],[24,67,13,65],[24,74,13,72],[24,75,13,73],[24,76,13,74,"join"],[24,80,13,78],[24,81,13,79],[24,85,13,83],[24,86,13,84],[25,4,14,2],[25,10,14,8,"txt"],[25,13,14,11],[25,16,14,14,"t"],[25,17,14,15],[25,18,14,16,"lang"],[25,22,14,20],[25,24,15,4],[25,33,15,13,"tip"],[25,36,15,16],[25,79,15,59,"rec"],[25,82,15,62],[25,84,15,64],[25,86,16,4],[25,94,16,12,"tip"],[25,97,16,15],[25,130,16,48,"rec"],[25,133,16,51],[25,135,16,53],[25,137,17,4],[25,151,17,18,"tip"],[25,154,17,21],[25,188,17,55,"rec"],[25,191,17,58],[25,193,18,2],[25,194,18,3],[26,4,19,2],[26,11,19,9,"txt"],[26,14,19,12],[27,2,20,0],[28,2,22,7],[28,17,22,22,"localReply"],[28,27,22,32,"localReply"],[28,28,22,33,"state"],[28,33,22,48],[28,35,22,50,"userText"],[28,43,22,66],[28,45,22,68],[29,4,23,2],[29,10,23,8,"lang"],[29,14,23,12],[29,17,23,15,"state"],[29,22,23,20],[29,23,23,21,"language"],[29,31,23,47],[30,4,24,2],[30,10,24,8,"q"],[30,11,24,9],[30,14,24,12,"userText"],[30,22,24,20],[30,23,24,21,"toLowerCase"],[30,34,24,32],[30,35,24,33],[30,36,24,34],[32,4,26,2],[33,4,27,2],[33,10,27,8,"know"],[33,14,27,12],[33,17,27,15],[33,21,27,15,"answerKnowledge"],[33,47,27,30],[33,49,27,31,"state"],[33,54,27,36],[33,56,27,38,"userText"],[33,64,27,46],[33,65,27,47],[34,4,28,2],[34,8,28,6,"know"],[34,12,28,10],[34,14,28,12],[34,21,28,19,"know"],[34,25,28,23],[36,4,30,2],[37,4,31,2],[37,8,31,6],[37,45,31,43],[37,46,31,44,"test"],[37,50,31,48],[37,51,31,49,"q"],[37,52,31,50],[37,53,31,51],[37,55,31,53],[38,6,32,4],[38,12,32,10,"results"],[38,19,32,17],[38,22,32,20],[38,26,32,20,"searchRecipes"],[38,48,32,33],[38,50,32,34],[39,8,32,36,"lang"],[39,12,32,40],[40,8,32,42,"keywords"],[40,16,32,50],[40,18,32,52,"userText"],[40,26,32,60],[41,8,32,62,"limit"],[41,13,32,67],[41,15,32,69],[42,6,32,71],[42,7,32,72],[42,8,32,73],[43,6,33,4],[43,10,33,8,"results"],[43,17,33,15],[43,18,33,16,"length"],[43,24,33,22],[43,29,33,27],[43,30,33,28],[43,32,33,30],[44,8,34,6],[44,14,34,12,"picks"],[44,19,34,17],[44,22,34,20],[44,26,34,20,"pickDailySuggestions"],[44,55,34,40],[44,57,34,41,"lang"],[44,61,34,45],[44,62,34,46],[44,63,34,47,"slice"],[44,68,34,52],[44,69,34,53],[44,70,34,54],[44,72,34,55],[44,73,34,56],[44,74,34,57],[45,8,35,6],[45,14,35,12,"list"],[45,18,35,16],[45,21,35,19,"picks"],[45,26,35,24],[45,27,35,25,"map"],[45,30,35,28],[45,31,35,29,"p"],[45,32,35,30],[45,36,35,34],[45,41,35,39,"p"],[45,42,35,40],[45,43,35,41,"title"],[45,48,35,46],[45,49,35,47,"lang"],[45,53,35,51],[45,54,35,52],[45,60,35,58,"p"],[45,61,35,59],[45,62,35,60,"desc"],[45,66,35,64],[45,67,35,65,"lang"],[45,71,35,69],[45,72,35,70],[45,74,35,72],[45,75,35,73],[45,76,35,74,"join"],[45,80,35,78],[45,81,35,79],[45,85,35,83],[45,86,35,84],[46,8,36,6],[46,15,36,13,"t"],[46,16,36,14],[46,17,36,15,"lang"],[46,21,36,19],[46,23,37,8],[46,73,37,58,"list"],[46,77,37,62],[46,155,37,140],[46,157,38,8],[46,195,38,46,"list"],[46,199,38,50],[46,265,38,116],[46,267,39,8],[46,310,39,51,"list"],[46,314,39,55],[46,399,40,6],[46,400,40,7],[47,6,41,4],[48,6,42,4],[48,12,42,10,"list"],[48,16,42,14],[48,19,42,17,"results"],[48,26,42,24],[48,27,42,25,"map"],[48,30,42,28],[48,31,42,29,"r"],[48,32,42,30],[48,36,42,34],[48,41,42,39,"r"],[48,42,42,40],[48,43,42,41,"title"],[48,48,42,46],[48,49,42,47,"lang"],[48,53,42,51],[48,54,42,52],[48,60,42,58,"r"],[48,61,42,59],[48,62,42,60,"desc"],[48,66,42,64],[48,67,42,65,"lang"],[48,71,42,69],[48,72,42,70],[48,74,42,72],[48,75,42,73],[48,76,42,74,"join"],[48,80,42,78],[48,81,42,79],[48,85,42,83],[48,86,42,84],[49,6,43,4],[49,13,43,11,"t"],[49,14,43,12],[49,15,43,13,"lang"],[49,19,43,17],[49,21,44,6],[49,53,44,38,"list"],[49,57,44,42],[49,150,44,135],[49,152,45,6],[49,182,45,36,"list"],[49,186,45,40],[49,274,45,128],[49,276,46,6],[49,305,46,35,"list"],[49,309,46,39],[49,422,47,4],[49,423,47,5],[50,4,48,2],[52,4,50,2],[53,4,51,2],[53,8,51,6],[53,87,51,85],[53,88,51,86,"test"],[53,92,51,90],[53,93,51,91,"q"],[53,94,51,92],[53,95,51,93],[53,97,51,95],[54,6,52,4],[54,12,52,10,"tips"],[54,16,52,14],[54,19,52,17],[54,23,52,17,"computeAIPro"],[54,45,52,29],[54,47,52,30],[55,8,52,32,"days"],[55,12,52,36],[55,14,52,38,"state"],[55,19,52,43],[55,20,52,44,"days"],[55,24,52,48],[56,8,52,50,"language"],[56,16,52,58],[56,18,52,60,"state"],[56,23,52,65],[56,24,52,66,"language"],[56,32,52,74],[57,8,52,76,"aiFeedback"],[57,18,52,86],[57,20,52,88,"state"],[57,25,52,93],[57,26,52,94,"aiFeedback"],[57,36,52,104],[58,8,52,106,"aiInsightsEnabled"],[58,25,52,123],[58,27,52,125,"state"],[58,32,52,130],[58,33,52,131,"aiInsightsEnabled"],[58,50,52,148],[59,8,52,150,"cycleLogs"],[59,17,52,159],[59,19,52,161,"state"],[59,24,52,166],[59,25,52,167,"cycleLogs"],[60,6,52,177],[60,7,52,178],[60,8,52,179],[61,6,53,4],[61,12,53,10,"top"],[61,15,53,13],[61,18,53,16,"tips"],[61,22,53,20],[61,23,53,21,"slice"],[61,28,53,26],[61,29,53,27],[61,30,53,28],[61,32,53,29],[61,33,53,30],[61,34,53,31],[61,35,53,32,"map"],[61,38,53,35],[61,39,53,36,"x"],[61,40,53,37],[61,44,53,41],[61,49,53,46,"x"],[61,50,53,47],[61,51,53,48,"text"],[61,55,53,52],[61,57,53,54],[61,58,53,55],[61,59,53,56,"join"],[61,63,53,60],[61,64,53,61],[61,68,53,65],[61,69,53,66],[62,6,54,4],[62,10,54,8,"top"],[62,13,54,11],[62,15,54,13],[62,22,54,20,"t"],[62,23,54,21],[62,24,54,22,"lang"],[62,28,54,26],[62,30,54,28],[62,57,54,55,"top"],[62,60,54,58],[62,62,54,60],[62,64,54,62],[62,91,54,89,"top"],[62,94,54,92],[62,96,54,94],[62,98,54,96],[62,130,54,128,"top"],[62,133,54,131],[62,135,54,133],[62,136,54,134],[63,4,55,2],[65,4,57,2],[66,4,58,2],[66,10,58,8,"fallback"],[66,18,58,16],[66,21,58,19,"t"],[66,22,58,20],[66,23,58,21,"lang"],[66,27,58,25],[66,29,59,4],[66,179,59,154],[66,181,60,4],[66,309,60,132],[66,311,61,4],[66,439,62,2],[66,440,62,3],[67,4,63,2],[67,11,63,9,"fallback"],[67,19,63,17],[68,2,64,0],[69,0,64,1],[69,3]],"functionMap":{"names":["<global>","t","localGreeting","picks.map$argument_0","localReply","results.map$argument_0","tips.slice.map$argument_0"],"mappings":"AAA;ACK,0HD;OEE;wBCK,gDD;CFO;OIE;6BDa,2CC;6BCO,2CD;oCEW,kBF"}},"type":"js/module"}]}